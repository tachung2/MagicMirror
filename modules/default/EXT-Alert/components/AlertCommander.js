class AlertCommander{constructor(e){this.alerts={displayed:!1,buffer:[]},this.types=[{event:"warning",icon:"modules/EXT-Alert/resources/warning.gif",timer:5e3,sound:"modules/EXT-Alert/resources/warning.ogg"},{event:"error",icon:"modules/EXT-Alert/resources/error.gif",timer:5e3,sound:"modules/EXT-Alert/resources/error.mp3"},{event:"information",icon:"modules/EXT-Alert/resources/information.gif",timer:5e3,sound:null}],this.sound=new Audio,this.sound.autoplay=!0,this.translate=(...t)=>e.translate(...t),console.log("[ALERT] AlertCommander Ready")}Alert(e){var t={type:null,info:e};return this.types.forEach((r=>{r.event==e.type&&(t.type=r)})),e.message?t.type?(this.alerts.buffer.push(t),logALERT("Buffer Add:",this.alerts),void this.AlertBuffer(this.alerts.buffer[0].type,this.alerts.buffer[0].info)):(logALERT("debug information:",t),this.Alert("warning",{message:"Alert Core: Display Type Error!"})):(logALERT("debug information:",e),this.Alert("warning",{message:"Alert Core: No message!"}))}AlertBuffer(e,t){if(this.alerts.displayed||!this.alerts.buffer.length)return;this.AlertLogo(e,t),this.AlertInformations(t),this.AlertShow();let r=t.timer?t.timer:e.timer;r<3e3&&(r=3e3),r>3e4&&(r=3e4),this.warningTimeout=setTimeout((()=>{this.AlertHide()}),r)}AlertInformations(e){var t=document.getElementById("EXT-Alert-Message"),r=document.getElementById("EXT-Alert-Sender");t.innerHTML=this.translate(e.message,{VALUES:e.values}),r.textContent=e.sender?e.sender:"EXT-Alert"}AlertLogo(e,t){document.getElementById("EXT-Alert-Icon").src=t.icon?t.icon:e.icon,"none"!=t.sound&&(e.sound||t.sound)&&(this.sound.src=(t.sound?t.sound:e.sound)+"?seed="+Date.now)}AlertShow(){this.alerts.displayed=!0;var e=document.getElementById("EXT-Alert");e.classList.remove("hidden","animate__bounceOutUp"),e.classList.add("animate__bounceInDown")}AlertHide(){var e=document.getElementById("EXT-Alert");e.classList.remove("animate__bounceInDown"),e.classList.add("animate__bounceOutUp"),e.addEventListener("animationend",(t=>{"bounceOutUp"==t.animationName&&(e.classList.add("hidden"),this.AlertInformations(""),this.AlertShift()),t.stopPropagation()}),{once:!0})}AlertShift(){this.alerts.buffer.shift(),this.alerts.displayed=!1,logALERT("Buffer deleted",this.alerts),this.alerts.buffer.length?this.AlertBuffer(this.alerts.buffer[0].type,this.alerts.buffer[0].info):logALERT("Buffer is now empty!")}}