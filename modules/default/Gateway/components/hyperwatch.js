var maxbuflen=500,enabled=!0,allLogs=[],emitter=require("events").EventEmitter,em=new emitter;function buffer(e){enabled&&e[0]&&"string"==typeof e[0]&&(allLogs.push(e[0]),em.emit("stdData",e[0]),allLogs.length>maxbuflen&&allLogs.shift())}function destroyBufferButOne(){allLogs.length&&(allLogs=allLogs.slice(-2))}function HyperWatch(e){return console.log("[GATEWAY] [HyperWatch] Logger is",enabled?"enabled":"disabled"),{disable:function(){enabled?(console.log("[GATEWAY] [HyperWatch] Logger is now disabled"),destroyBufferButOne(),enabled=!1):console.log("[GATEWAY] [HyperWatch] Logger is already disabled")},enable:function(){enabled?console.log("[GATEWAY] [HyperWatch] Logger is already enabled"):(enabled=!0,console.log("[GATEWAY] [HyperWatch] Logger is now enabled"))},scrollback:function(e){return e&&0!=e?e<50?console.log("[GATEWAY] [HyperWatch] scrollback must be > 50"):void(e==maxbuflen?console.log("[GATEWAY] [HyperWatch] scrollback already",maxbuflen):(maxbuflen=e,console.log("[GATEWAY] [HyperWatch] scrollback is now",maxbuflen))):console.log("[GATEWAY] [HyperWatch] scrollback can't be null")},stream:function(){return em},status:function(){return enabled},logs:function(){return allLogs}}}!function(){var e=process.stderr,l=e.write;e.write=function(){l.apply(e,arguments),buffer(arguments)}}(),function(){var e=process.stdout,l=e.write;e.write=function(){l.apply(e,arguments),buffer(arguments)}}(),module.exports=HyperWatch;